{"version":3,"sources":["components/Profile/User/User.module.css","App.module.css","components/common/Preloader/preloader.svg","components/Profile/Profile.module.css","components/Profile/Posts/Posts.module.css","components/Dialogs/Dialogs.module.css","components/common/FormControls/FormControls.module.css","components/Menubar/Menubar.module.css","components/Users/Users.module.css","components/Menubar/Menubar.jsx","components/common/Paginator/Paginator.jsx","components/common/Preloader/Preloader.js","components/Users/User.js","api/api.js","Utils/object-helpers.js","Redux/users-reducer.js","Redux/users-selectors.js","components/Users/UsersContainer.js","components/Profile/Posts/Post/Post.jsx","Redux/profile-reducer.js","components/common/FormControls/FormControls.js","Utils/validators.js","components/Profile/Posts/NewPost/NewPost.jsx","components/Profile/Posts/Posts.jsx","components/Profile/User/Avatar/AvatarProfile.jsx","components/Profile/User/ProfileStatusWithHocks.jsx","components/Profile/ProfileDataForm/ProfileDataForm.jsx","components/Profile/User/UserProfile/UserProfile.jsx","components/Profile/User/User.jsx","components/Profile/Profile.jsx","hoc/withAuthRedirect.js","components/Profile/ProfileContainer.js","components/Header/MiProfile/MiProfile.jsx","components/Header/Header.jsx","Redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.js","components/Dialogs/Massages/Messages.jsx","components/Dialogs/Dialog/Dialog.jsx","Redux/dialogs-reducer.js","components/Dialogs/DialogsContainer.jsx","Redux/app-reducer.js","App.js","Redux/redux-store.js","index.js","components/Profile/Posts/Post/Post.module.css","components/Header/Header.module.css","asseds/img/placeholder.png","components/common/Paginator/Paginator.module.css","components/Login/login.module.css","components/Dialogs/Massages/Messages.module.css","components/Dialogs/Dialog/Dialog.module.css","components/common/Preloader/Preloader.module.css","components/Profile/Posts/NewPost/NewPost.module.css"],"names":["module","exports","Menubar","className","style","menubar","list","item","activeClassName","active","to","href","Paginator","totalCount","pageSize","portionSize","onPageChanged","currentPage","pagesCount","Math","ceil","pages","i","push","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","s","paginator__wrapper","paginator__button","onClick","filter","p","map","key","e","paginatorActive","paginator","Preloader","preloader","preloader__img","src","loader","alt","User","props","isFetching","users","user","id","user__img","photos","small","avatarPlaceholder","name","user__data","user__name","user__status","status","isAuth","profileMi","userId","user__friend","user__friend_true","followed","disabled","followingInProgress","some","user__button","deleteFromFriends","addToFriend","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","get","then","response","data","postFriend","post","deleteFriend","delete","profileAPI","put","photoFile","formData","FormData","append","profile","authAPI","email","password","rememberMe","captcha","updateObjectArray","items","itemId","objPropName","newObjProps","initialState","makeFriend","type","notFriend","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","addDeleteFollowing","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","state","action","usersPage","getPageSize","getTotalCount","getCurrentPage","getIsFetching","getFollowingInProgress","getIsAuth","auth","UsersContainer","componentDidMount","requestUsers","pageNumber","this","React","Component","connect","bind","Post","postsData","item__post","avatar","date","wrapper","massege","like","btn","img","login","setUserProfile","setUserStatus","getProfile","profileReducer","stateCopy","getDataString","Date","toLocaleString","newPost","addNewPost","Textarea","input","meta","touched","error","styles","inputBox","textarea","undefined","Input","createField","component","validate","htmlFor","label","Field","required","value","maxLength","max","length","maxLength5","NewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","button","NewPost","addPost","profilePage","posts","AvatarProfile","onMainPhotoSelected","isOwner","editMode","avatar__img","large","fullName","avatar__form","avatar__input","onChange","multiple","avatar__label","avatar__labelText","ProfileStatusWithHocks","updateUserStatus","statusUser","setEditMode","setStatus","useEffect","onDoubleClick","onBlur","autoFocus","currentTarget","ProfileDataFormRedux","deactivateEditMode","checkbox","Object","keys","contacts","styleForm","loginError","UserProfile","user_profile","setting__button","user_profile_list","name_user","ProfileDataForm","initialValues","ProfileData","aboutMe","lookingForAJob","lookingForAJobDescription","contacts__link","userMi","savePhotoAvatar","saveProfile","target","files","Profile","mapStateToPropsForRedirect","withAuthRedirect","RedirectComponent","ProfileContainer","match","params","UserId","getUserStatus","refreshProfile","prevProps","prevState","snapshot","compose","withRouter","userID","file","getState","stopSubmit","_error","messages","Promise","reject","MiProfile","logout","auth__button","Header","header","setAuthUserData","payload","setAuthProfileMi","getAuthProfileMi","getAuthUser","getCaptcha","url","authReducer","HeaderContainer","refreshProfileMi","maxLength20","LoginFormRedux","rememberMi","form__header","MessageFormRedux","rows","Messages","adminStyle","justifySelf","backgroundColor","massages","messagesData","message","massage","addMessage","newMessage","Dialog","dialogs","dialogsData","dialog","dialogReducer","messagesPage","initial","appReducer","App","initializeApp","container","path","render","DialogsContainer","app","reducers","combineReducers","formReducer","store","createStore","applyMiddleware","thunk","window","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.55a41909.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3r2O9\",\"user_profile\":\"User_user_profile__2hgaa\",\"name_user\":\"User_name_user__2eJGF\",\"user__status\":\"User_user__status__KTppZ\",\"contacts\":\"User_contacts__1ar5v\",\"contacts__link\":\"User_contacts__link__3lunY\",\"avatar\":\"User_avatar__20Ri-\",\"avatar__img\":\"User_avatar__img__25jT1\",\"avatar__form\":\"User_avatar__form__3h7bJ\",\"avatar__input\":\"User_avatar__input__2i3C_\",\"avatar__label\":\"User_avatar__label__soMCx\",\"avatar__labelText\":\"User_avatar__labelText__148d6\",\"setting__button\":\"User_setting__button__2WbrL\",\"form\":\"User_form__2EBfZ\",\"checkbox\":\"User_checkbox__1fExK\",\"inputBox\":\"User_inputBox__2ieXr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__1MQN3\",\"content\":\"App_content__3La4L\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.dac52f91.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__3dzvr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"Posts_posts__tkALa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Dialogs_wrapper__1cRA8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputBox\":\"FormControls_inputBox__2fyy8\",\"textarea\":\"FormControls_textarea__1pfDL\",\"input\":\"FormControls_input__3aAzy\",\"loginError\":\"FormControls_loginError__2klva\",\"error\":\"FormControls_error__24y5C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menubar\":\"Menubar_menubar__2YZCy\",\"list\":\"Menubar_list__324U2\",\"item\":\"Menubar_item__1xNk5\",\"active\":\"Menubar_active__2yIgQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__2Iv27\",\"user\":\"Users_user__1dQYj\",\"user__img\":\"Users_user__img__2W4wZ\",\"user__data\":\"Users_user__data__1plaP\",\"user__name\":\"Users_user__name__1axGI\",\"user__status\":\"Users_user__status__8Vfwh\",\"user__friend\":\"Users_user__friend__1K-Dd\",\"user__friend_true\":\"Users_user__friend_true__2ee-z\",\"user__button\":\"Users_user__button__1y0me\"};","import React from 'react';\nimport style from './Menubar.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Menubar = () => {\n    return (\n        <div className={style.menubar}>\n            <nav>\n                <ul className={style.list}>\n                    <li className={style.item}>\n                        <NavLink activeClassName={style.active} to='/Profile'>Профиль</NavLink>\n                    </li>\n                    <li className={style.item}>\n                        <NavLink activeClassName={style.active} to='/Dialogs'>Сообщения</NavLink>\n                    </li>\n                    <li className={style.item}>\n                        <a href='#n'>Фото</a>\n                    </li>\n                    <li className={style.item}>\n                        <a href='#n'>Настройки</a>\n                    </li>\n                    <li className={style.item}>\n                        <NavLink activeClassName={style.active} to='/Users'>Пользователи</NavLink>\n                    </li>\n                </ul>\n            </nav>\n        </div>\n    );\n}\nexport default Menubar","import React, {useState} from \"react\";\nimport s from \"./Paginator.module.css\";\n\nconst Paginator = ({totalCount, pageSize, portionSize=10, onPageChanged, currentPage}) => {\n\n    let pagesCount = Math.ceil(totalCount / pageSize);\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n\n    const [portionNumber, setPortionNumber] = useState(1)\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    const rightPortionPageNumber = portionNumber * portionSize;\n\n\n    return (\n        <div className={s.paginator__wrapper}>\n            {\n                portionNumber > 1 &&\n                <button className={s.paginator__button} onClick={() => setPortionNumber(portionNumber - 1) }>Назад</button>\n            }\n            {pages\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n                .map(p => {\n                    return <span\n                        key={p}\n                        onClick={(e) => onPageChanged(p)}\n                        className={`${currentPage === p ? s.paginatorActive : ''} ${s.paginator}`}>\n                        {p}\n                    </span>\n                })}\n            {\n                portionNumber < pagesCount &&\n                <button className={s.paginator__button} onClick={() => setPortionNumber(portionNumber + 1) }>Вперед</button>\n            }\n\n        </div>\n\n        /*<div className={s.paginator__wrapper}>\n            {pages.map(p => {\n                if (p === props.currentPage - 4) {\n                    return (\n                        <span key={p}>\n                                <span\n                                    className={s.paginator}\n                                    onClick={(e) => props.onPageChanged(p)}\n                                >1</span>\n                                <span>...</span>\n                            </span>\n                    )\n                }\n                if (p < props.currentPage - 4) {\n                    return null\n                }\n                if (p === props.currentPage + 4) {\n                    return <span key={p}> ... из {props.totalCount}</span>\n                }\n                if (p > props.currentPage + 4) {\n                    return null\n                }\n\n                return (\n                    <span\n                        key={p}\n                        onClick={(e) => props.onPageChanged(p)}\n                        className={`${props.currentPage === p ? s.paginatorActive : ''} ${s.paginator}`}>\n                                {p}\n                    </span>\n                );\n            })\n            }\n        </div>*/\n    );\n}\n\nexport default Paginator","import React from \"react\";\nimport s from './Preloader.module.css';\nimport loader from \"./preloader.svg\";\n\nconst Preloader = () => {\n    return (\n        <div className={s.preloader}>\n            <img className={s.preloader__img} src={loader} alt='preloader' />\n        </div>\n    );\n}\n\nexport default Preloader","import React from \"react\";\nimport s from './Users.module.css';\nimport avatarPlaceholder from '../../asseds/img/placeholder.png';\nimport {NavLink} from \"react-router-dom\";\nimport Paginator from \"../common/Paginator/Paginator\";\nimport Preloader from \"../common/Preloader/Preloader\";\n\nconst User = (props) => {\n    return (\n        <div>\n            <Paginator\n                pageSize={props.pageSize}\n                currentPage={props.currentPage}\n                onPageChanged={props.onPageChanged}\n                totalCount={props.totalCount}\n            />\n            {props.isFetching\n                ? <Preloader />\n                : <ul className={s.users}>\n                    {\n                        props.users.map(user => {\n\n                            return (\n                                <li className={s.user} key={user.id}>\n                                    <NavLink to={`/Profile/${user.id}`}>\n                                        <img className={s.user__img}\n                                             src={user.photos.small != null ? user.photos.small : avatarPlaceholder}\n                                             alt={user.name}\n                                        />\n                                    </NavLink>\n\n                                    <div className={s.user__data}>\n                                        <div className={s.user__name}>{user.name}</div>\n                                        <div className={s.user__status}>{user.status}</div>\n                                    </div>\n\n                                    { props.isAuth && props.profileMi.userId !== user.id &&\n                                        <div className={s.user__friend}>\n\n                                            <div className={s.user__friend_true}>\n                                                {user.followed ? 'вы друзья' : ''}\n                                            </div>\n\n                                            {user.followed\n                                                ?\n                                                <button\n                                                    disabled={props.followingInProgress.some(id => id === user.id)}\n                                                    className={s.user__button}\n                                                    onClick={() => {\n                                                        props.deleteFromFriends(user.id)\n                                                    }}\n                                                >Удалить из друзей</button>\n                                                :\n                                                <button\n                                                    disabled={props.followingInProgress.some(id => id === user.id)}\n                                                    className={s.user__button}\n                                                    onClick={() => {\n                                                        props.addToFriend(user.id)\n                                                    }}\n                                                >Добавить в друзья</button>\n                                            }\n                                        </div>\n                                    }\n\n                                </li>\n                            );\n                        })\n                    }\n                </ul>\n            }\n        </div>\n    );\n}\n\n\nexport default User","import * as axios from \"axios\";\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {'API-KEY': 'a19acec0-1037-4064-8297-7df537629abc'},\n})\n\nexport const usersAPI = {\n    getUsers(currentPage, pageSize) {\n        return instance\n            .get(`users?page=${currentPage}&count=${pageSize}`)\n            .then(response => response.data);\n    },\n\n    postFriend(userId) {\n        return instance\n            .post(`follow/${userId}`, {})\n            .then(response => response.data)\n    },\n\n    deleteFriend(userId) {\n        return instance\n            .delete(`follow/${userId}`)\n            .then(response => response.data)\n    }\n\n\n}\n\nexport const profileAPI = {\n    getProfile(userId) {\n        return instance\n            .get(`profile/${userId}`)\n            .then(response => response.data)\n    },\n\n    getStatus(userId) {\n        return instance\n            .get(`profile/status/${userId}`)\n            .then(response => response.data)\n    },\n\n    updateStatus(status) {\n        return instance\n            .put(`profile/status`, {status: status});\n    },\n\n    savePhotoAvatar(photoFile) {\n        const formData = new FormData();\n        formData.append('image', photoFile);\n        return instance.put(`/profile/photo`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        })\n    },\n\n    saveProfile(profile) {\n        return instance\n            .put(`/profile`, profile);\n    },\n}\n\nexport const authAPI = {\n    getAuth() {\n        return instance\n            .get(`auth/me`)\n            .then(response => response.data)\n    },\n\n    Login(email, password, rememberMe = false, captcha = null) {\n        return instance\n            .post(`auth/login`, {email, password, rememberMe, captcha})\n            .then(response => response.data);\n    },\n\n    Logout() {\n        return instance\n            .delete(`auth/login`)\n            .then(response => response.data);\n    },\n\n    captcha() {\n        return instance\n            .get(`security/get-captcha-url`)\n            .then(response => response.data);\n    },\n}","export const updateObjectArray = (items, itemId, objPropName, newObjProps) => {\n    return items.map(user => {\n        if (user[objPropName] === itemId) {\n            return {...user, ...newObjProps}\n        }\n        return user\n    })\n}","import {usersAPI} from \"../api/api\";\nimport {updateObjectArray} from \"../Utils/object-helpers\";\n\nconst MAKE_FRIEND = 'MAKE-FRIEND';\nconst NOT_FRIEND = 'NOT-FRIEND';\nconst SET_USERS = 'SET-USERS';\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\nconst SET_TOTAL_COUNT = 'SET-TOTAL-COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS'\n\n\nlet initialState = {\n    users: [],\n    totalCount: 0,\n    pageSize: 10,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: [],\n};\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n\n        case MAKE_FRIEND:\n            return { ...state,\n                users: updateObjectArray( state.users, action.userId, 'id', {followed: true} )\n            };\n\n        case NOT_FRIEND:\n            return { ...state,\n                users: updateObjectArray( state.users, action.userId, 'id', {followed: false} )\n            };\n\n        case SET_USERS:\n            return {...state, users: action.users}\n\n        case SET_CURRENT_PAGE:\n            return {...state, currentPage: action.currentPage,}\n\n        case SET_TOTAL_COUNT:\n            return {...state, totalCount: action.totalCount,}\n\n        case TOGGLE_IS_FETCHING:\n            return {...state, isFetching: action.isFetching,}\n\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\n            return {\n                ...state, followingInProgress: action.followingInProgress\n                    ? [...state.followingInProgress, action.userId]\n                    : [state.followingInProgress.filter(id => id !== action.userId)]\n            }\n\n        default:\n            return state;\n    }\n};\n\n\nexport const makeFriend = (userId) => ({type: MAKE_FRIEND, userId});\nexport const notFriend = (userId) => ({type: NOT_FRIEND, userId});\nexport const setUsers = (users) => ({type: SET_USERS, users});\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\nexport const setTotalCount = (totalCount) => ({type: SET_TOTAL_COUNT, totalCount});\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\nexport const toggleIsFollowingProgress = (followingInProgress, userId) => ({\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\n    followingInProgress,\n    userId\n});\n\n\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\n    dispatch(toggleIsFetching(true));\n    let data = await usersAPI.getUsers(currentPage, pageSize);\n    dispatch(toggleIsFetching(false));\n    dispatch(setUsers(data.items));\n    dispatch(setTotalCount(data.totalCount));\n    dispatch(setCurrentPage(currentPage));\n}\n\nconst addDeleteFollowing = async (dispatch, userId, apiMethod, actionCreator ) => {\n    dispatch(toggleIsFollowingProgress(true, userId));\n    let data = await apiMethod(userId)\n    if (data.resultCode === 0) {\n        dispatch(actionCreator(userId));\n        dispatch(toggleIsFollowingProgress(false, userId));\n    }\n}\n\nexport const addToFriend = (userId) => async (dispatch) => {\n    dispatch(toggleIsFollowingProgress(true, userId));\n    await addDeleteFollowing(dispatch, userId, usersAPI.postFriend.bind(userId), makeFriend);\n}\n\nexport const deleteFromFriends = (userId) => async (dispatch) => {\n    dispatch(toggleIsFollowingProgress(true, userId));\n    await addDeleteFollowing(dispatch, userId, usersAPI.deleteFriend.bind(userId), notFriend);\n\n}\n\n\nexport default usersReducer;","export const getUsers = (state) => {\n    return state.usersPage.users;\n}\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize;\n}\n\nexport const getTotalCount = (state) => {\n    return state.usersPage.totalCount;\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage;\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching;\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress;\n}\n\nexport const getIsAuth = (state) => {\n    return state.auth.isAuth;\n}","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport User from \"./User\";\nimport {requestUsers, addToFriend, deleteFromFriends, setCurrentPage} from \"../../Redux/users-reducer\";\nimport {\n    getUsers,\n    getPageSize,\n    getTotalCount,\n    getCurrentPage,\n    getIsFetching,\n    getFollowingInProgress, getIsAuth\n} from \"../../Redux/users-selectors\";\n\n\nclass UsersContainer extends React.Component {\n\n    componentDidMount = () => {\n        const { currentPage, pageSize } = this.props;\n        this.props.requestUsers(currentPage, pageSize);\n    }\n\n    onPageChanged = (pageNumber) => {\n        const {pageSize} = this.props;\n        this.props.requestUsers(pageNumber, pageSize)\n    }\n\n\n\n    render() {\n        return <User\n            users={this.props.users}\n            addToFriend={this.props.addToFriend}\n            deleteFromFriends={this.props.deleteFromFriends}\n            totalCount={this.props.totalCount}\n            pageSize={this.props.pageSize}\n            currentPage={this.props.currentPage}\n            onPageChanged={this.onPageChanged}\n            followingInProgress={this.props.followingInProgress}\n            isFetching={this.props.isFetching}\n            isAuth={this.props.isAuth}\n            profileMi={this.props.profileMi}\n        />\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalCount: getTotalCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state),\n        isAuth: getIsAuth(state),\n        profileMi: state.auth.profileMi,\n    };\n}\n\nexport default connect(mapStateToProps,\n    {addToFriend, deleteFromFriends, requestUsers, setCurrentPage}\n)(UsersContainer)","import React from 'react';\nimport style from './Post.module.css';\n\n\nconst Post = (props) => {\n\n    return (\n        <ul>\n            {\n                props.postsData.map((post) => {\n                    return (\n                        <li key={post.id} className={style.item}>\n                            <div className={style.item__post}>\n                                <div className={style.avatar}></div>\n                                <div>Автор: Александр К.</div>\n                                <div>{post.date}</div>\n                            </div>\n\n                            <div className={style.wrapper}>\n                                <div className={style.massege}>\n                                    {post.post}\n                                </div>\n                                <div className={style.like}>\n                                    <button className={style.btn}>\n                                        <span className={style.img}></span>\n                                        <span>{post.like}</span>\n                                    </button>\n                                </div>\n                            </div>\n                        </li>\n                    );\n                })\n            }\n        </ul>\n    );\n}\nexport default Post","import {profileAPI} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\nconst SET_USER_STATUS = 'SET-USER-STATUS';\nconst DELETE_POST = 'DELETE-POST';\nconst SET_PHOTO_AVATAR = 'SET-PHOTO-AVATAR';\n\nlet initialState = {\n    postsData: [\n        {id: 1, login: 'admin', post: 'Привет, это мой первый пост', like: 0, date: '21/05/2019 18:00'},\n        {id: 2, login: 'admin', post: 'Привет, это мой второй пост', like: 0, date: '21/05/2019 18:00'},\n        {id: 3, login: 'admin', post: 'Третий пост', like: 20, date: '17/07/2020 22:00'},\n    ],\n    profile: null,\n    status: 'Добавьте статус...',\n};\n\n\nconst profileReducer = (state = initialState, action) => {\n    let stateCopy = {...state};\n    switch (action.type) {\n        case ADD_POST: {\n            const getDataString = () => new Date().toLocaleString('ru-RU')\n            let newPost = {\n                id: 11,\n                login: 'admin',\n                post: action.addNewPost,\n                date: getDataString()\n            };\n            stateCopy.postsData = [...state.postsData];\n            stateCopy.postsData.push(newPost);\n            return stateCopy;\n        }\n        case DELETE_POST: {\n            return {...state, postsData: state.postsData.filter(p => p.id !== action.id)}\n        }\n\n        case SET_USER_PROFILE: {\n            stateCopy.profile = action.profile\n            return stateCopy;\n        }\n\n        case SET_USER_STATUS: {\n            stateCopy.status = action.status\n            return stateCopy;\n        }\n\n        case SET_PHOTO_AVATAR: {\n            return {...state, profile: {...state.profile, photos: action.photos}};\n        }\n\n        default:\n            return state;\n    }\n};\n\n\n\nexport const addPost = (addNewPost) => ({type: ADD_POST, addNewPost});\nexport const deletePost = (id) => ({type: DELETE_POST, id});\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status});\nexport const setPhotoAvatar = (photos) => ({type: SET_PHOTO_AVATAR, photos});\n\n\n\nexport const getProfile = (userId) => async (dispatch) => {\n    const data = await profileAPI.getProfile(userId)\n    dispatch(setUserProfile(data));\n}\n\nexport const getUserStatus = (userID) => async (dispatch) => {\n    const status = await profileAPI.getStatus(userID)\n    dispatch(setUserStatus(status))\n}\n\nexport const updateUserStatus = (status) => async (dispatch) => {\n    const response = await profileAPI.updateStatus(status)\n    if (response.data.resultCode === 0) {\n        dispatch(setUserStatus(status))\n    }\n}\n\nexport const savePhotoAvatar = (file) => async (dispatch) => {\n    const response = await profileAPI.savePhotoAvatar(file)\n    if (response.data.resultCode === 0) {\n        dispatch(setPhotoAvatar(response.data.data.photos))\n    }\n}\n\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n    const userId = getState().auth.id;\n    const response = await profileAPI.saveProfile(profile)\n    if (response.data.resultCode === 0) {\n        dispatch(getProfile(userId))\n    } else {\n        dispatch(stopSubmit('profile', {_error: response.data.messages[0]}));\n        return Promise.reject(response.data.messages[0])\n    }\n\n}\n\nexport default profileReducer;","import React from \"react\";\nimport styles from './FormControls.module.css'\nimport {Field} from \"redux-form\";\n\nexport const Textarea = ({input, meta: {touched, error}}) => {\n    return (\n        <div className={styles.inputBox}>\n            <textarea className={`${touched && error ? styles.error : \"\"} ${styles.textarea}`} {...input}/>\n            { touched &&\n                error ? <span className={styles.error}>{error}</span> : undefined\n            }\n        </div>\n    );\n}\n\nexport const Input = ({input, meta: {touched, error}}) => {\n    return (\n        <div className={styles.inputBox}>\n            <input className={`${touched && error ? styles.error : \"\"} ${styles.input}`} {...input}/>\n            { touched &&\n                error ? <span className={styles.error}>{error}</span> : undefined\n            }\n        </div>\n    );\n}\n\nexport const createField = (className, component, name, type, validate, htmlFor, label, id ) => (\n    <>\n        <Field\n            className={className}\n            component={component}\n            name={name}\n            type={type}\n            validate={validate}\n            id={id}\n        />\n    </>\n);","\nexport const required = value => (value || typeof value === 'number' ? undefined : 'Обязательное поле');\n\nexport const maxLength = max => value =>\n    value && value.length > max ? `Не более ${max} симолов` : undefined;","import React from 'react';\nimport style from './NewPost.module.css';\nimport { Field, reduxForm } from 'redux-form'\nimport {Textarea} from \"../../../common/FormControls/FormControls\";\nimport {maxLength, required} from \"../../../../Utils/validators\";\n\nconst maxLength5 = maxLength(5);\n\nconst NewPostForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit} className={style.post}>\n            <h3>Мой новый пост</h3>\n            <Field\n                component={Textarea}\n                name='addNewPost'\n                validate={[required, maxLength5]}\n            />\n            <button className={style.button}>Опубликовать</button>\n        </form>\n    );\n}\n\nconst NewPostFormRedux = reduxForm({ form: 'newPost' })(NewPostForm)\n\nconst NewPost = (props) => {\n    const onSubmit = (value) => { props.addPost(value.addNewPost) }\n    return <NewPostFormRedux onSubmit={onSubmit}/>\n}\n\nexport default NewPost\n","import React from 'react';\nimport style from './Posts.module.css';\nimport Post from \"./Post/Post\";\nimport {connect} from \"react-redux\";\nimport {addPost} from \"../../../Redux/profile-reducer\";\nimport NewPost from \"./NewPost/NewPost\";\n\nconst Posts = ( {postsData, addPost } ) => {\n\n    return (\n        <div className={style.posts}>\n            <NewPost addPost={addPost}  />\n            <Post postsData={postsData} />\n        </div>\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return { postsData: state.profilePage.postsData }\n}\n\nexport default connect(mapStateToProps, {addPost})(Posts)","import style from \"../User.module.css\";\nimport avatarPlaceholder from \"../../../../asseds/img/placeholder.png\";\nimport React from \"react\";\n\nconst AvatarProfile = ({ profile, isOwner, onMainPhotoSelected, editMode }) => {\n    return (\n        <div className={style.avatar}>\n            <img\n                className={style.avatar__img}\n                src={profile.photos.large !== null ? profile.photos.large : avatarPlaceholder}\n                alt={profile.fullName}\n            />\n            {\n                editMode &&\n                <form className={style.avatar__form}>\n                    <input className={style.avatar__input} type={'file'} id='avatar__change'\n                           onChange={onMainPhotoSelected} multiple/>\n                    <label className={style.avatar__label} htmlFor='avatar__change'>\n                        <span className={style.avatar__labelText}>Сменить аватар</span>\n                    </label>\n                </form>\n            }\n        </div>\n    );\n}\n\nexport default AvatarProfile\n","import React, {useEffect, useState} from 'react';\nimport style from './User.module.css';\n\n\nconst ProfileStatusWithHocks = ({updateUserStatus, isOwner, statusUser, ...props}) => {\n\n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(statusUser);\n\n    useEffect(() => { setStatus(statusUser)}, [statusUser]);\n\n\n    const activateEditMode = () => { setEditMode(true) }\n\n    const deactivateEditMode = () => { setEditMode(false); updateUserStatus(status) }\n\n    const onStatusChange = (e) => { setStatus(e.currentTarget.value) }\n\n    return (\n        <div className={style.user__status}>\n            {!editMode && (isOwner\n                ? <span onDoubleClick={activateEditMode}>{statusUser || 'Добавьте статус'}</span>\n                : <span>{statusUser}</span>)\n            }\n            {editMode &&\n                <input\n                    onBlur={deactivateEditMode}\n                    className={style.input}\n                    autoFocus={true}\n                    onChange={onStatusChange}\n                    value={status}\n                />\n            }\n        </div>\n    )\n}\n\nexport default ProfileStatusWithHocks","import React from \"react\";\nimport style from \"../User/User.module.css\";\nimport {createField, Input, Textarea} from \"../../common/FormControls/FormControls\";\nimport {reduxForm} from \"redux-form\";\nimport styleForm from \"../../common/FormControls/FormControls.module.css\";\n\n\nconst ProfileData = ({ handleSubmit, profile, error, deactivateEditMode }) => {\n\n    return (\n        <form onSubmit={handleSubmit} className={style.form}>\n\n            {createField('', Input, 'aboutMe', 'text', [])}\n            {createField('', Input, 'fullName', 'text', [])}\n            <div>\n                {createField('', 'input', 'lookingForAJob', 'checkbox', [], '', '', 'lookingForAJob')}\n                <label className={style.checkbox} htmlFor='lookingForAJob'>В поиске работы</label>\n            </div>\n            {createField('', Textarea, 'lookingForAJobDescription', 'text', [])}\n\n            {Object.keys(profile.contacts).map(key => {\n                return (\n                    <div className={style.inputBox} key={key}>\n                        <b>{key}: </b>{createField('style.input', Input, `contacts.${key}`, 'text', [])}\n                    </div>\n                );\n            })}\n\n            <button>Сохранить</button>\n            <button onClick={deactivateEditMode}>Отменить</button>\n            <div className={styleForm.loginError}>{error}</div>\n        </form>\n    );\n}\n\nconst ProfileDataFormRedux = reduxForm({form: 'profile'})(ProfileData)\n\nexport default ProfileDataFormRedux","import style from \"../User.module.css\";\nimport ProfileStatusWithHocks from \"../ProfileStatusWithHocks\";\nimport ProfileDataFormRedux from \"../../ProfileDataForm/ProfileDataForm\";\nimport React from \"react\";\n\n\nconst UserProfile = ({profile, statusUser, isOwner, updateUserStatus, editMode, setEditMode, onSubmit}) => {\n\n    const activateEditMode = () => {\n        setEditMode(true)\n    }\n\n    const deactivateEditMode = () => {\n        setEditMode(false)\n    }\n\n    return (\n        <div className={style.user_profile}>\n            {\n                isOwner && <button className={style.setting__button} onClick={activateEditMode}></button>\n            }\n            <h3 className={`${style.user_profile_list} ${style.name_user}`}>{profile.fullName}</h3>\n            <ProfileStatusWithHocks statusUser={statusUser} updateUserStatus={updateUserStatus} isOwner={isOwner}/>\n            {\n                editMode\n                    ? <ProfileDataFormRedux\n                        initialValues={profile}\n                        onSubmit={onSubmit}\n                        profile={profile}\n                        deactivateEditMode={deactivateEditMode}\n                    />\n                    : <ProfileData profile={profile} isOwner={isOwner} setEditMode={setEditMode}/>\n            }\n        </div>\n    );\n}\n\nexport default UserProfile\n\nconst ProfileData = ({profile}) => {\n    return (\n        <div className={style.user_profile_list}>\n            <div>{profile.aboutMe ? profile.aboutMe : ''}</div>\n            <div>{profile.lookingForAJob ? profile.lookingForAJob : ''}</div>\n            <div>{profile.lookingForAJobDescription ? profile.lookingForAJobDescription : ''}</div>\n\n            <div className={style.contacts}>\n                {\n                    Object.keys(profile.contacts).map(key => {\n                        if (profile.contacts[key]) {\n                            return <a href={profile.contacts[key]} key={key} className={style.contacts__link}>{key}</a>\n                        } return null\n                    })\n                }\n            </div>\n        </div>\n    )\n}","import React, {useState} from 'react';\nimport style from './User.module.css';\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport AvatarProfile from \"./Avatar/AvatarProfile\";\nimport UserProfile from \"./UserProfile/UserProfile\";\n\nconst User = ({profile, status, updateUserStatus, userMi, savePhotoAvatar, saveProfile}) => {\n\n    let [editMode, setEditMode] = useState(false);\n\n    if (!profile) {return <Preloader/>}\n\n    const onMainPhotoSelected = (e) => {\n        if (e.target.files.length) {\n            savePhotoAvatar(e.target.files[0])\n        }\n    }\n\n    let isOwner = userMi === profile.userId;\n\n    const onSubmit = (formData) => {\n        saveProfile(formData).then(\n            () => {\n                setEditMode(false)\n            }\n        )\n    }\n\n    return (\n        <div className={style.user}>\n            <AvatarProfile\n                profile={profile}\n                onMainPhotoSelected={onMainPhotoSelected}\n                isOwner={isOwner}\n                editMode={editMode}\n            />\n            <UserProfile\n                profile={profile}\n                isOwner={isOwner}\n                statusUser={status}\n                updateUserStatus={updateUserStatus}\n                editMode={editMode}\n                setEditMode={setEditMode}\n                onSubmit={onSubmit}\n            />\n        </div>\n    );\n}\n\nexport default User","import React from 'react';\nimport style from './Profile.module.css';\nimport Posts from \"./Posts/Posts\";\nimport User from \"./User/User\";\n\nconst Profile = ({profile, status, updateUserStatus, userMi, savePhotoAvatar, saveProfile}) => {\n\n    return (\n        <div className={style.profile}>\n            <User\n                profile={profile.profile}\n                status={status}\n                updateUserStatus={updateUserStatus}\n                userMi={userMi}\n                savePhotoAvatar={savePhotoAvatar}\n                saveProfile={saveProfile}\n            />\n            <Posts />\n        </div>\n    );\n}\nexport default Profile","import React from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n\nlet mapStateToPropsForRedirect = (state) => ({\n    isAuth: state.auth.isAuth\n});\n\nexport const withAuthRedirect = (Component) => {\n\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) return <Redirect to='/login'/>\n            return <Component {...this.props}/>\n        }\n    }\n\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n\n    return ConnectedAuthRedirectComponent;\n}","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport Profile from \"./Profile\";\nimport {\n    getProfile,\n    getUserStatus,\n    savePhotoAvatar, saveProfile,\n    setUserProfile,\n    updateUserStatus\n} from \"../../Redux/profile-reducer\";\nimport {withRouter} from \"react-router-dom\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\nclass ProfileContainer extends React.Component {\n\n    refreshProfile() {\n        let userId = this.props.match.params.UserId;\n        if (!userId) {\n            userId = this.props.userId\n        }\n        this.props.getProfile(userId);\n        this.props.getUserStatus(userId);\n    };\n\n    componentDidMount() {\n        this.refreshProfile();\n    };\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if(this.props.match.params.UserId !== prevProps.match.params.UserId) {\n            this.refreshProfile();\n        }\n    };\n\n    render() {\n        const {profile, isAuth, status, updateUserStatus, userId, savePhotoAvatar, saveProfile} = this.props\n        return <Profile\n            profile={profile}\n            isAuth={isAuth}\n            status={status}\n            updateUserStatus={updateUserStatus}\n            userMi={userId}\n            savePhotoAvatar={savePhotoAvatar}\n            saveProfile={saveProfile}\n        />\n    }\n}\n\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage,\n    status: state.profilePage.status,\n    userId: state.auth.id\n});\n\nexport default compose(\n    withRouter,\n    withAuthRedirect,\n    connect(mapStateToProps, {setUserProfile, getProfile, getUserStatus, updateUserStatus, savePhotoAvatar, saveProfile }),\n)(ProfileContainer)\n\n\n","import React from \"react\";\nimport s from \"../Header.module.css\";\nimport avatarPlaceholder from \"../../../asseds/img/placeholder.png\";\nimport {NavLink} from \"react-router-dom\";\nimport Preloader from \"../../common/Preloader/Preloader\";\n\nconst MiProfile = ({isAuth, logout, profileMi}) => {\n\n    return (\n        <div>\n            {isAuth\n                ? (!profileMi\n                    ? <Preloader/>\n                    : <div className={s.login}>\n                        <img\n                            className={s.avatar}\n                            src={profileMi.photos.large !== null ? profileMi.photos.large : avatarPlaceholder}\n                            alt={profileMi.fullName}\n                        />\n                        <div>{profileMi.fullName}</div>\n                        <button onClick={logout} className={s.auth__button}>Выйти</button>\n                    </div>\n                )\n                : <NavLink className={s.auth__button} to={'/login'}>Войти</NavLink>\n            }\n        </div>\n    );\n}\n\nexport default MiProfile","import React from 'react';\nimport s from './Header.module.css';\n// import logo from '../../asseds/img/logo.png'\nimport MiProfile from \"./MiProfile/MiProfile\";\n\nconst Header = ({ isAuth, logout, profileMi }) => {\n\n    return (\n        <header className={s.header}>\n            {/*<img alt='logo' src={logo}/>*/}\n            <div className={s.auth}>\n                <MiProfile isAuth={isAuth} logout={logout} profileMi={profileMi} />\n            </div>\n        </header>\n    );\n}\nexport default Header","import {authAPI, profileAPI} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_USER_DATA = 'auth/SET-USER-DATA';\nconst SET_AUTH_PROFILE_MI = 'auth/SET-AUTH-PROFILE-MI';\nconst SET_CAPTCHA_URL = 'auth/SET-CAPTCHA-URL';\n\nlet initialState = {\n    id: null,\n    login: null,\n    email: null,\n    isAuth: false,\n    profileMi: null,\n    captcha: null,\n};\n\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n\n        case SET_USER_DATA: {\n            return {...state,\n                id: action.payload.id,\n                login: action.payload.login,\n                email: action.payload.email,\n                isAuth: action.payload.isAuth,\n                captcha: action.payload.captcha,\n            };\n        }\n\n        case SET_AUTH_PROFILE_MI: {\n            return {...state, profileMi: action.profileMi};\n        }\n\n        case SET_CAPTCHA_URL: {\n            return {...state, captcha: action.url};\n        }\n\n        default:\n            return state;\n    }\n};\n\n\nexport const setAuthUserData = (id, login, email, isAuth, captcha) => ({\n    type: SET_USER_DATA,\n    payload: {id, login, email, isAuth, captcha}\n});\n\n\nexport const setAuthProfileMi = (profileMi) => ({\n    type: SET_AUTH_PROFILE_MI,\n    profileMi\n});\n\nexport const setCaptchaUrl = (url) => ({\n    type: SET_CAPTCHA_URL,\n    url\n});\n\n\n\n\nexport const getAuthProfileMi = (userId) => async (dispatch) => {\n    let profileMi = await profileAPI.getProfile(userId);\n    dispatch(setAuthProfileMi(profileMi))\n}\n\n\nexport const getAuthUser = () => async (dispatch) => {\n    let data = await authAPI.getAuth();\n    if (data.resultCode === 0) {\n        let {id, login, email} = data.data\n        dispatch(setAuthUserData(id, login, email, true))\n    }\n}\n\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\n    const data = await authAPI.Login(email, password, rememberMe, captcha);\n    if (data.resultCode === 0) {\n        dispatch(getAuthUser()) //отправляем запрос о том кто залогинился\n    } if (data.resultCode === 10) {\n        dispatch(getCaptcha());\n    } else {\n        const messages = data.messages.length > 0 ? data.messages[0] : null;\n        dispatch(stopSubmit('login', {_error: messages}));\n    }\n}\n\n\nexport const logout = () => async (dispatch) => {\n    let data = await authAPI.Logout();\n    if (data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false, null ))\n        dispatch(setAuthProfileMi(null))\n    }\n}\n\n\nexport const getCaptcha = () => async (dispatch) => {\n    let data = await authAPI.captcha();\n    dispatch(setCaptchaUrl(data.url));\n}\n\n\nexport default authReducer;","import React from 'react';\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {getAuthProfileMi, logout, setAuthUserData} from \"../../Redux/auth-reducer\";\n\n\nclass HeaderContainer extends React.Component {\n\n    refreshProfileMi() {\n        let userId = this.props.userId;\n        this.props.getAuthProfileMi(userId);\n    }\n\n    componentDidMount() {\n        this.refreshProfileMi()\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props.userId !== prevProps.userId) {\n            this.refreshProfileMi()\n        }\n    }\n\n\n    render() {\n        return <Header\n            isAuth={this.props.isAuth}\n            profileMi={this.props.profileMi}\n            logout={this.props.logout}\n            setAuthUserData={setAuthUserData}\n            getAuthProfileMi={getAuthProfileMi}\n        />\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    userId: state.auth.id,\n    profileMi: state.auth.profileMi,\n});\n\nexport default connect(mapStateToProps,\n    { setAuthUserData, logout, getAuthProfileMi }\n)(HeaderContainer)","import React from \"react\";\nimport style from \"./login.module.css\"\nimport styleForm from \"./../../components/common/FormControls/FormControls.module.css\"\nimport {reduxForm} from 'redux-form'\nimport {createField, Input} from \"../common/FormControls/FormControls\";\nimport {maxLength, required} from \"../../Utils/validators\";\nimport {connect} from \"react-redux\";\nimport {login} from \"../../Redux/auth-reducer\";\nimport {Redirect} from \"react-router-dom\";\n\nconst maxLength20 = maxLength(20)\n\nconst LoginForm = ({ handleSubmit, error, captcha }) => {\n    return (\n        <form onSubmit={handleSubmit} className={style.wrapper}>\n            <div className={styleForm.loginError}>{error}</div>\n            {createField(null, Input, 'email', null, [required, maxLength20])}\n            {createField(null, Input, 'password', 'password', [required, maxLength20] )}\n            {createField(`${style.rememberMi}`, 'input', 'rememberMi', 'checkbox', null)}\n            <button className={style.button}>Войти</button>\n\n            {captcha &&\n                <div>\n                    <img src={captcha} alt=\"captcha\"/>\n                    {createField(null, Input, 'captcha', 'text', [required])}\n                </div>\n            }\n\n        </form>\n    );\n}\n\nconst LoginFormRedux = reduxForm({form: 'login'})(LoginForm)\n\nconst Login = ({login, isAuth, captcha}) => {\n\n    const onSubmit = (formData) => {\n        login(formData.email, formData.password, formData.rememberMi, formData.captcha);\n    }\n\n    if (isAuth) {\n        return <Redirect to={'/Profile/'}/>\n    }\n\n    return (\n        <div className={style.form}>\n            <h3 className={style.form__header}>Вход</h3>\n            <LoginFormRedux onSubmit={onSubmit} captcha={captcha}/>\n        </div>\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isAuth: state.auth.isAuth,\n        captcha: state.auth.captcha,\n    };\n}\n\nexport default connect(mapStateToProps, {login})(Login)\n\n","import React from \"react\";\nimport style from './Messages.module.css';\nimport {Field, reduxForm} from 'redux-form';\nimport {maxLength, required} from \"../../../Utils/validators\";\nimport {Textarea} from \"../../common/FormControls/FormControls\";\n\nconst Messages = (props) => {\n\n    const adminStyle = {justifySelf: 'end', backgroundColor: '#ccf2b0'};\n    const onSubmit = (value) => {\n        props.addMessage(value.newMessage)\n    }\n\n    return (\n        <ul className={style.massages}>\n            {props.messagesData.map(message => {\n                if (message.login === 'admin') {\n                    return <li style={adminStyle} className={style.massage} key={message.id}>{message.message}</li>\n                }\n                return <li className={style.massage} key={message.id}>{message.message}</li>\n            })}\n            <MessageFormRedux onSubmit={onSubmit}/>\n        </ul>\n    );\n}\n\nconst maxLength5 = maxLength(5)\n\nconst MessageForm = (props) => {\n\n    return (\n        <form onSubmit={props.handleSubmit} className={style.wrapper}>\n            <Field rows='1'\n                   component={Textarea}\n                   name='newMessage'\n                   validate={[required, maxLength5]}\n            />\n            <button className={style.button}></button>\n        </form>\n    );\n}\n\nconst MessageFormRedux = reduxForm({form: 'messages'})(MessageForm)\n\nexport default Messages","import React from \"react\";\nimport style from './Dialog.module.css';\nimport {NavLink} from \"react-router-dom\";\n\n\nconst Dialog = (props) => {\n\n    return (\n        <ul className={style.dialogs}>\n            {\n                props.dialogsData.map( dialog => {\n                    return (\n                        <NavLink\n                            key={dialog.id}\n                            className={style.dialog}\n                            activeClassName={style.active}\n                            to={`/Dialogs/${dialog.login}`}\n                        >\n                            {dialog.name}\n                        </NavLink>\n                    );\n                })\n            }\n        </ul>\n    );\n}\n\nexport default Dialog","const ADD_MESSAGE = 'ADD-MESSAGE';\n\nlet initialState = {\n    dialogsData: [\n        {id: 1, login: 'kris', name: 'Кристина'},\n        {id: 2, login: 'kirill', name: 'Кирилл'},\n        {id: 3, login: 'nata', name: 'Наталья'},\n        {id: 4, login: 'uliya', name: 'Юлия'},\n        {id: 5, login: 'matvey', name: 'Матвей'},\n        {id: 6, login: 'sony', name: 'София'}\n    ],\n\n    messagesData: [\n        {id: 1, login: 'kris', message: 'Привет!'},\n        {id: 2, login: 'admin', message: 'Как дела!'},\n        {id: 3, login: 'kris', message: 'Все нормально!'},\n        {id: 4, login: 'admin', message: 'Изучаю реакт на IT-Kamasutra.'}\n    ]\n}\n\nconst dialogReducer = (state = initialState, action) => {\n\n    let stateCopy = { ...state };\n\n    switch (action.type) {\n        case ADD_MESSAGE:\n            let newMessage = {\n                id: 10,\n                login: 'admin',\n                message: action.newMessage\n            }\n            stateCopy.messagesData = [...state.messagesData]\n            stateCopy.messagesData.push(newMessage);\n            return stateCopy;\n\n        default:\n            return state;\n    }\n}\n\nexport const addMessage = (newMessage) => ({type: ADD_MESSAGE, newMessage})\n\nexport default dialogReducer;","import React from \"react\";\nimport style from './Dialogs.module.css';\nimport Messages from \"./Massages/Messages\";\nimport Dialog from \"./Dialog/Dialog\";\nimport {connect} from \"react-redux\";\nimport {addMessage} from \"../../Redux/dialogs-reducer\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\nconst Dialogs = ({ dialogsData, messagesData, addMessage, isAuth }) => {\n\n    return (\n        <div className={style.wrapper}>\n            <Dialog dialogsData={dialogsData}/>\n            <Messages\n                messagesData={messagesData}\n                addMessage={addMessage}\n                isAuth={isAuth}\n            />\n        </div>\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        dialogsData: state.messagesPage.dialogsData,\n        messagesData: state.messagesPage.messagesData,\n    };\n}\n\nexport default compose(\n    connect(mapStateToProps, { addMessage }),\n    withAuthRedirect\n)(Dialogs)\n","import {getAuthUser} from \"./auth-reducer\";\n\nconst INITIALIZATION_SUCCESS = 'INITIALIZATION-SUCCESS';\n\nlet initialState = {\n    initial: false,\n};\n\n\nconst appReducer = (state = initialState, action) => {\n    let stateCopy = {...state};\n    switch (action.type) {\n\n        case INITIALIZATION_SUCCESS: {\n            stateCopy.initial = true;\n            return stateCopy;\n        }\n\n        default:\n            return state;\n    }\n};\n\nexport const initializationSuccess = () => ({\n    type: INITIALIZATION_SUCCESS\n});\n\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUser());\n    promise.then(() => {\n        dispatch(initializationSuccess());\n    })\n\n\n}\n\nexport default appReducer;","import React from 'react';\nimport s from './App.module.css';\nimport Menubar from \"./components/Menubar/Menubar\";\nimport {Route, withRouter} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./Redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\n\nclass App extends React.Component {\n\n    componentDidMount() { this.props.initializeApp() }\n\n    render() {\n        if (!this.props.initial ) {\n            return <Preloader />\n        }\n        return (\n            <div className={s.container}>\n                <HeaderContainer />\n                <Menubar/>\n                <div className='content' >\n                    <Route path='/Profile/:UserId?' render={() => <ProfileContainer/>} />\n                    <Route path='/Dialogs' render={() => <DialogsContainer/>} />\n                    <Route path='/Users' render={() => <UsersContainer/>} />\n                    <Route path='/Login' render={() => <Login/>} />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        initial: state.app.initial,\n    };\n}\n\nexport default compose(\n    connect(mapStateToProps, {initializeApp}),\n    withRouter\n)(App)","import {applyMiddleware, combineReducers, createStore} from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogReducer from \"./dialogs-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunk from \"redux-thunk\";\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from \"./app-reducer\";\n\nlet reducers = combineReducers({\n    messagesPage: dialogReducer,\n    profilePage: profileReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer,\n});\n\nlet store = createStore(reducers, applyMiddleware(thunk));\n\nwindow.store = store;\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js';\nimport store from './Redux/redux-store';\nimport {BrowserRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux';\n\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </BrowserRouter>, document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Post_wrapper__3p27Q\",\"item\":\"Post_item__2EmvQ\",\"avatar\":\"Post_avatar__3qkL-\",\"massage\":\"Post_massage__3KLy-\",\"like\":\"Post_like__lxvJu\",\"btn\":\"Post_btn__1tKp9\",\"img\":\"Post_img__3Rtvr\",\"item__post\":\"Post_item__post__30FLr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"auth\":\"Header_auth__22ubL\",\"auth__button\":\"Header_auth__button__1W4YI\",\"login\":\"Header_login__3V3Qa\",\"avatar\":\"Header_avatar__2DnQ9\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAQhSURBVHic7dvPq1VVFAfwz9YyFUHJQDMrs19YYESZ/SRCU6SIKBo3y4j6CxpEDYIGzaqBwwgnDZoYJVEQ1MB+SWaKYtIPS6OyNEr74VsNzn0lr3veve+ede59T/zCmtxz+O61vmftffZe69wSEYaBUspK3Iv1uARLsBg/43t8i3ewLSL2DsUpiIhWDevwAWIKthv3t+1bRLQnQOcpb59i4BPtfayacQLgVhxpGPy4HcOmGSMAHsTJpODH7RQemfYCYA1+Tw5+3P7GxmwBSsfxxiilLMOHWJZC2B3HsDYi9mURzsoiwvPaDR4W4qVUxsTUH9NO6nezDVlTICsDnkFJ4up3vBQ0XgNKKYvwA85J8ah/rIiIr5qSZGTARsMPHu7LIMkQ4K4EjkGwLoMkQ4CLEjhGNm6GAEsSOEY2boYACxM4RjZuhgA/JXCMbNwMAY4kcIxs3AwBGr+LRzluhgBvJXAMgjczSDJ2gvNU83FehkN9YgxLIuLHpkSNMyAiTuC1pjxTxPaM4EnIAP6t+O7FnMZkvRG4ISJ2ZpClnAYj4iBeyODqA1uzgicpA6CUMh/v4foUwu44iJsiIm3vkSYAlFKWq8piS9NI/8Nx3BIRezJJM0tiIuIQ7sHhTF78omqUpAaP1voCy/GxnPLXflzdhp+RXRafIMJ8PIcTAwb+l6oAuqgtH1sVYEI2bMHRPgP/Fa/gyrZ9i0jsC0Ap5byI+KPm2mzchrtxqaqgcYFqF3kYX6u6w+9GxJ+TjDE3Ik6m+TyoAJ3Nzzpc17HVmK16ei9GxGdZTnbGW4sn8JAqSz7t2C7VznCwhXeAlJ6Dp/Tu/23BwoQptBSv9hjrOB7HrFbXAFUK7+nhzOl2qPPEpu5YJfRm/a8dgR1Y3YoA2KDq0g6yoh9Qpe+CPsZZjCfx3YBjncSNqYtgKeVi7Ow41wTH8JHq4DRu52LVabZG86P1l6oD09Ged/aZijvk9fWGZa/rLPKNpgCengbBDGqPNpoCnRPeNzi/9qbpjQOqbfRY3Q29DkMPm7nBwxWqw1k9Jkn9ojqIjDqNm9rbA60BuHkaOJ9lF9bFOdkUuGOSazMNd9ZdOCtAtx9LKQW3t+bO8FErQNfXYCnlctUr5EzCgoj4beKPdVPgspadGQW6xlQnwMoWHRkVusZ0NgNqbm77i89RoGtMdQIMs9M7LHSN6awANTfPbdGRUaFrTHUC9K6kzDx0jalOgN0tOjIq7Or241kBam4+0wQYUxNTnQBfqP7MeKbgk6i+ZfofugrQqaFtbtWl4eEUHqu92qMi/LLRV3Oa2rMDl8WxSNXeGnUQg9puzGnaF1iBbdMgmKnaVtXHlGm9wQdmSDbsx/p+45rS9wGllAXYhGs6di2uUvX3RoET2KfqWO/B53gjaj7S6IZ/AMZxYb/yHSwRAAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__18P4_\",\"paginator__wrapper\":\"Paginator_paginator__wrapper__12U1W\",\"paginatorActive\":\"Paginator_paginatorActive__2vBj1\",\"paginator__button\":\"Paginator_paginator__button__1P-oQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"login_form__1XT1R\",\"form__header\":\"login_form__header__1vdW1\",\"wrapper\":\"login_wrapper__1C9Og\",\"button\":\"login_button__FtnWQ\",\"rememberMi\":\"login_rememberMi__244Yq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"massages\":\"Messages_massages__l7SJP\",\"wrapper\":\"Messages_wrapper__3OJOv\",\"button\":\"Messages_button__CHhT0\",\"massage\":\"Messages_massage__wD3mv\",\"admin\":\"Messages_admin__2I7Ut\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialog_dialogs__2Ped7\",\"dialog\":\"Dialog_dialog__1323i\",\"active\":\"Dialog_active__2fc4o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2dvkO\",\"preloader__img\":\"Preloader_preloader__img__6k2KM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"NewPost_post__1nV8v\",\"button\":\"NewPost_button__37Esr\"};"],"sourceRoot":""}